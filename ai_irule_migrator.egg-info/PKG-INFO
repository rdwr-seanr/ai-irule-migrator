Metadata-Version: 2.4
Name: ai-irule-migrator
Version: 0.1.0
Summary: LangGraph/LangChain iRule -> AppShape++ migrator with RAG
Author: Your Name
License: MIT
Requires-Python: >=3.11
Description-Content-Type: text/markdown
Provides-Extra: dev
Requires-Dist: fastapi; extra == "dev"
Requires-Dist: uvicorn[standard]; extra == "dev"
Requires-Dist: langchain; extra == "dev"
Requires-Dist: langgraph; extra == "dev"
Requires-Dist: openai; extra == "dev"
Requires-Dist: tiktoken; extra == "dev"
Requires-Dist: psycopg[binary]; extra == "dev"
Requires-Dist: sqlalchemy>=2.0; extra == "dev"
Requires-Dist: pgvector; extra == "dev"
Requires-Dist: pydantic>=2; extra == "dev"
Requires-Dist: python-multipart; extra == "dev"
Requires-Dist: pypdf; extra == "dev"
Requires-Dist: python-docx; extra == "dev"
Requires-Dist: python-pptx; extra == "dev"
Requires-Dist: markdown; extra == "dev"
Requires-Dist: watchfiles; extra == "dev"
Requires-Dist: orjson; extra == "dev"
Requires-Dist: tenacity; extra == "dev"
Requires-Dist: numpy; extra == "dev"
Requires-Dist: scikit-learn; extra == "dev"
Requires-Dist: opentelemetry-sdk; extra == "dev"
Requires-Dist: opentelemetry-exporter-otlp; extra == "dev"
Requires-Dist: pytest; extra == "dev"
Requires-Dist: pytest-asyncio; extra == "dev"
Requires-Dist: httpx; extra == "dev"
Requires-Dist: rich; extra == "dev"

# ai-irule-migrator

LangGraph / LangChain based service to ingest curated developer docs and migrate F5 iRules -> AppShape++ with detailed reports & QA RAG.

## Features (MVP Scope)
- Doc ingestion: CLI, folder watch, API
- MIME loaders: pdf, pptx, docx, txt, md
- Hash + version dedupe, pgvector storage
- Hybrid retrieval with citations
- Migration graph: parse -> capability map -> plan -> translate -> verify -> report
- Partial / blocked handling with rationale
- FastAPI API + minimal UI placeholder

## Quickstart
```
cp .env.template .env  # add OpenAI key
make db.up
make setup
make ingest  # ingest ./docs
make api.run
```

### Ingest CLI
```
python -m packages.ingestion.ingest --path ./docs --tags base,reference
```

### RAG QA
```
curl -X POST http://localhost:8080/v1/qa \
  -H 'Content-Type: application/json' \
  -d '{"question":"How are HTTP headers mapped?"}'
```

### Migrate iRule
```
curl -X POST http://localhost:8080/v1/migrate \
  -F file=@sample.irule
```

## Repo Layout
```
apps/api              # FastAPI app
apps/ui               # (future) UI
packages/ingestion    # ingestion + loaders
packages/rag          # retrieval logic
packages/agents       # LangGraph wiring
packages/tools        # parsing & generation tools
packages/schemas      # Pydantic models
packages/tests        # test suite
storage/              # local object store
```

## Roadmap (abridged)
See project spec for extended roadmap.
